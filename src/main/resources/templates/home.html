<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmnls:sec="http://www.thymeleaf.org/thymeleaf-extra-springsecurity6">
<head>
    <title>Home</title>
    <!-- Optional styling -->
    <style>
        .container { max-width: 600px; margin: 40px auto; padding: 20px; }
        .trainer { color: #007bff; font-weight: bold; }
        .user { color: #6c757d; }
    </style>
</head>
<body>
<div class="container">
    <div th:if="${authenticated}">
        <h1>Welcome, <span th:text="${username}"></span>!</h1>

        <!-- Show user type -->
        <p>
            <strong>You are logged in as:</strong>
            <span th:text="${userType}"
                  th:class="${userType == 'Trainer' ? 'trainer' : 'user'}"></span>
        </p>

        <!-- Show sport if trainer -->
        <th:block th:if="${userType == 'Trainer'}">
            <p><strong>Sport:</strong> <span th:text="${sport}"></span></p>
        </th:block>

        <form th:action="@{/logout}" method="post">
            <button type="submit">Logout</button>
        </form>
    </div>

    <div sec:authorize="isAuthenticated()">
        <button type="services">Other Services</button>
    </div>

    <div sec:authorize="isAuthenticated()">
        <a href="/trainers" class="btn btn-primary">Show trainers</a>
    </div>

    <div th:if="${not authenticated}">
        <h1>Public Home Page</h1>
        <p th:text="${message}"></p>
        <a href="/login">Login</a>
    </div>
</div>
</body>
</html>
